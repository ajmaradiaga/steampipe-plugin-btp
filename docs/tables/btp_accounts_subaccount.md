# Table: btp_accounts_subaccount

Get the details of subaccounts in the SAP BTP global account.

## Examples

### List all subaccounts in root

```sql
SELECT GUID,
	DISPLAY_NAME,
	PARENT_GUID,
	PARENT_TYPE,
	SUBDOMAIN,
	CUSTOM_PROPERTIES
FROM BTP_ACCOUNTS_SUBACCOUNT;
```

### List all subaccounts in a directory

```sql
SELECT DISPLAY_NAME,
	REGION,
	SUBDOMAIN,
	BETA_ENABLED
FROM BTP_ACCOUNTS_SUBACCOUNT
WHERE PARENT_GUID = '00643708-5865-4e15-a0b4-d276c3877502'
ORDER BY REGION,
	DISPLAY_NAME;
```

### List all directories

```sql
SELECT DISTINCT PARENT_GUID,
	PARENT_TYPE
FROM BTP_ACCOUNTS_SUBACCOUNT
WHERE PARENT_TYPE = 'PROJECT';
```

### Count subaccounts by region

```sql
SELECT REGION,
	COUNT(1)
FROM BTP_ACCOUNTS_SUBACCOUNT
GROUP BY REGION
ORDER BY COUNT DESC;
```

### Subaccount details with datacenter information

```sql
SELECT SA.GUID SUBACCOUNT_GUID,
	SA.DISPLAY_NAME SUBACCOUNT_NAME,
	SA.SUBDOMAIN SUBACCOUNT_SUBDOMAIN,
	DC.NAME DC_NAME,
	DC.DISPLAY_NAME AS DC_LOCATION,
	SA.REGION,
	ENVIRONMENT,
	DC.IAAS_PROVIDER,
	SUPPORTS_TRIAL,
	SAAS_REGISTRY_SERVICE_URL,
	DOMAIN,
	GEO_ACCESS
FROM BTP_ACCOUNTS_SUBACCOUNT SA
JOIN BTP.BTP_ENTITLEMENTS_DATACENTER DC ON SA.REGION = DC.REGION
ORDER BY REGION,
	SUBACCOUNT_NAME;
```
